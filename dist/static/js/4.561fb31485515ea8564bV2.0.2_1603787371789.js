webpackJsonp([4],{xqV9:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("X2Oc"),o={data:function(){var r=this;return{ruleForm:{new_password:"",re_password:"",old_password:""},rules:{new_password:[{validator:function(e,t,s){""===t?s(new Error("请输入密码")):(""!==r.ruleForm.re_password&&r.$refs.ruleForm.validateField("re_password"),s())},trigger:"blur"}],re_password:[{validator:function(e,t,s){""===t?s(new Error("请再次输入密码")):t!==r.ruleForm.new_password?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}],old_password:[{validator:function(r,e,t){t()},trigger:"blur"}]}}},methods:{submitForm:function(r){var e=this,t=this;this.$refs[r].validate(function(r){if(!r)return console.log("error submit!!"),!1;t.$confirm("是否确认此操作","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.post("/api/user/password",Object(s.h)(e.ruleForm)).then(function(r){r.data.status>=1?e.$message.success("修改成功"):e.$message.error("失败,  "+r.data.msg)})}).catch(function(){})})},resetForm:function(r){this.$refs[r].resetFields()}}},a={render:function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",[t("div",{staticClass:"crumbs"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-tickets"}),r._v(" 密码修改\n      ")])],1)],1),r._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"block",staticStyle:{width:"50%"}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:r.ruleForm,"status-icon":"",rules:r.rules,"label-width":"200px"}},[t("el-form-item",{attrs:{label:"旧密码(未设置请置空)",prop:"old_password"}},[t("el-input",{model:{value:r.ruleForm.old_password,callback:function(e){r.$set(r.ruleForm,"old_password",e)},expression:"ruleForm.old_password"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"new_password"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:r.ruleForm.new_password,callback:function(e){r.$set(r.ruleForm,"new_password",e)},expression:"ruleForm.new_password"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"re_password"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:r.ruleForm.re_password,callback:function(e){r.$set(r.ruleForm,"re_password",e)},expression:"ruleForm.re_password"}})],1),r._v(" "),t("br"),r._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(e){return r.submitForm("ruleForm")}}},[r._v("提交")]),r._v(" "),t("el-button",{on:{click:function(e){return r.resetForm("ruleForm")}}},[r._v("重置")])],1)],1)],1)])])},staticRenderFns:[]},l=t("VU/8")(o,a,!1,null,null,null);e.default=l.exports}});